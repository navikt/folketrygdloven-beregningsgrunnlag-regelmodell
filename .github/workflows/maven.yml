name: Java CI

on: [push]

jobs:
  build:

    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v1
    - name: Set up JDK 11
      uses: actions/setup-java@v1
      with:
        java-version: "11.x"
    - name: Maven version
      run: mvn --version
    - name: Build with Maven
      run: |
           mvn deploy -e -s .m2/settings.xml --file pom.xml -Dchangelist="-$(date +%F-%H%I%S).$(git rev-parse --short HEAD)"
      env: 
        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}

      
      
      
